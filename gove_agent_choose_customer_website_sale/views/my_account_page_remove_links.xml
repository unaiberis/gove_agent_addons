<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Remove Purchase Order for both agents and clients -->
    <template id="custom_portal_my_home_purchase" inherit_id="purchase.portal_my_home_purchase"
        priority="99">
        <!-- Remove the t-call block by replacing it with an empty block -->
        <xpath expr="//t[t-call='portal.portal_docs_entry']" position="replace" />
    </template>

    <template id="custom_portal_my_home_sale" inherit_id="sale.portal_my_home_sale" priority="20">
        <xpath expr="//div[hasclass('o_portal_docs')]" position="inside">
            <!-- Conditionally remove Quotations block -->
            <t t-if="not request.env.user.sudo().partner_id.agent">
                <xpath expr="//t[t-call='portal.portal_docs_entry'][t-set='title'][.='Quotations']" position="replace"/>
            </t>
            <!-- Conditionally remove Sales Orders block -->
            <t t-if="not request.env.user.sudo().partner_id.agent">
                <xpath expr="//t[t-call='portal.portal_docs_entry'][t-set='title'][.='Sales Orders']" position="replace"/>
            </t>
        </xpath>
    </template>
</odoo>